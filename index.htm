<html>
<head>
	<title>220311 hello world</title>
</head>
<body>
	<div id=divログイン前>
		<input id=inpName>
		<input id=inpPass type=password>
		<button id=btnログイン>ログイン</button>
	</div>
	<div id=divログイン中></div>
	<textarea id=textarea style="width:100%;height:300px"></textarea>
	<button id=btn更新>更新</button>
	<div id=divステータス></div>
</body>
<script type="module">
	// Import the functions you need from the SDKs you need
	import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.8/firebase-app.js";
	// TODO: Add SDKs for Firebase products that you want to use
	// https://firebase.google.com/docs/web/setup#available-libraries

	// Your web app's Firebase configuration
	const firebaseConfig = {
	apiKey: "AIzaSyAAeKTy6eG7RZ6LWfEh_kcOjd4dWCx7CKk",
	authDomain: "hello-70ffb.firebaseapp.com",
	projectId: "hello-70ffb",
	storageBucket: "hello-70ffb.appspot.com",
	messagingSenderId: "1072716397392",
	appId: "1:1072716397392:web:ac950ca8530e105255ca55"
	};

	// Initialize Firebase
	const app = initializeApp(firebaseConfig);
	const db  = app.database()
	const ref = db.ref("/my/chat/all")

	btn更新.onclick = ()=>{
		const str = textarea.value
		ref.set({title:'example', text:str})
	}

	ref.on('value', (snapshot)=>{
	       textarea.value = snapshot.val().text
	})
</script>
</html>
